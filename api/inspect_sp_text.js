const sql=require('mssql');const sp=process.argv[2];if(!sp){console.log('Usage: node inspect_sp_text.js <sp_name>');process.exit(1);} (async()=>{try{const pool=await sql.connect('Server=ISMA_LEGION\\SQLEXPRESS,1433;Database=Vaccine;User Id=vaccine_api;Password=VaccineAPI2024!;Encrypt=false;TrustServerCertificate=true;');const result=await pool.request().query(`EXEC sp_helptext '${sp}'`);console.log(result.recordset.map(r=>r.Text).join(''));await pool.close();}catch(e){console.error(e);}})();
